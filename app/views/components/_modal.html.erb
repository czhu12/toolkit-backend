<div data-controller="modal" data-action="keydown.esc->modal#close" tabindex="-1">
  <%= component.content %>

  <%= tag.div class: "hidden fixed inset-0 bg-gray-900 bg-opacity-80 overflow-y-auto flex items-center justify-center backdrop-blur-sm dark:bg-gray-800 dark:bg-opacity-80",
    data: {
      modal_target: "background",
      action: "click->modal#closeBackground",
      transition_enter: "transition ease-in-out duration-200",
      transition_enter_from: "bg-opacity-0 backdrop-blur-none",
      transition_enter_to: "bg-opacity-80 backdrop-blur-sm",
      transition_leave: "transition-all ease-in-out duration-200",
      transition_leave_from: "bg-opacity-80 backdrop-blur-sm",
      transition_leave_to: "bg-opacity-0 backdrop-blur-none"
    } do %>

    <%= tag.div class: component.container_class,
      data: {
        modal_target: "container",
        transition_enter: "transition ease-in-out duration-200",
        transition_enter_from: "opacity-0",
        transition_enter_to: "opacity-100",
        transition_leave: "transition ease-in-out duration-200",
        transition_leave_from: "opacity-100",
        transition_leave_to: "opacity-0"
      } do %>
      <%= tag.div class: component.card_class do %>
        <% if component.close_button? %>
          <button type="button" data-action="modal#close:prevent" class="hover:cursor-pointer absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><line x1="18" x2="6" y1="6" y2="18"></line><line x1="6" x2="18" y1="6" y2="18"></line></svg>
            <span class="sr-only">Close</span>
          </button>
        <% end %>

        <%= component.body %>

        <% if component.actions? %>
          <div class="flex justify-end items-center flex-wrap gap-2 mt-4">
            <%= component.actions %>
          </div>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
</div>
